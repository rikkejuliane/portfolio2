"use client";

import Link from "next/link";
import type { Project } from "@/features/projects/data/projects";

type ProjectNavProps = {
  prev: Project | null;
  next: Project | null;
};

export default function ProjectNav({ prev, next }: ProjectNavProps) {
  // nothing to show? don't render anything
  if (!prev && !next) return null;

  return (
    <nav className="flex flex-wrap items-center justify-center gap-1 sm:gap-8 font-bold text-[14px] text-wine">
      {/* ─── PREV ─────────────────────────────────────────── */}
      {prev && (
        <Link
          href={`/projects/${prev.slug}`}
          rel="prev"
          className="flex items-center gap-3"
          aria-label={`Previous project: ${prev.title}`}>
          <svg
            width="14"
            height="20"
            viewBox="0 0 14 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M12.4142 0.14776C12.8068 0.345709 13.0478 0.787859 13.0582 1.3295C13.0624 1.54233 13.029 3.8124 12.984 6.37409C12.8968 11.3471 12.8841 14.7347 12.9503 15.3659C12.9728 15.5793 13.0105 16.2925 13.0342 16.9508C13.0865 18.3979 13.0138 18.7694 12.6021 19.1611C12.0813 19.6566 11.3691 19.635 10.3082 19.0914C8.8541 18.3466 7.84553 17.5204 4.3454 14.2075C3.35009 13.2655 2.43888 12.4628 0.941589 11.2094C0.633346 10.9513 0.303625 10.6231 0.208985 10.48C-0.0176853 10.1375 -0.0635502 9.67698 0.0883398 9.26776C0.51283 8.12419 2.84604 5.84881 5.68408 3.81072C6.95121 2.90074 10.6629 0.418614 11.1015 0.187932C11.5505 -0.0483122 11.9983 -0.0619616 12.4142 0.14776ZM8.9893 3.57027C6.89687 4.98644 5.5602 5.95264 4.71374 6.66079C3.54759 7.63637 2.02526 9.16432 1.79639 9.58881C1.74781 9.67893 1.90753 9.84007 2.69182 10.4923C3.83688 11.4446 4.53998 12.077 6.16866 13.6196C7.46057 14.8433 8.36738 15.6697 9.01557 16.2141C9.92684 16.9794 11.3557 17.9851 11.5324 17.9856C11.5947 17.9858 11.5593 16.8033 11.4347 14.719C11.3504 13.3104 11.3317 10.2557 11.3773 5.35912L11.4091 1.95065L11.215 2.07297C11.1083 2.14025 10.1067 2.81405 8.9893 3.57027Z"
              fill="#4D0011"
            />
          </svg>

          <span className="truncate">{prev.title}</span>
        </Link>
      )}

      {prev && next && <div className="h-[15px] w-[1px] bg-wine" />}

      {/* ─── NEXT ─────────────────────────────────────────── */}
      {next && (
        <Link
          href={`/projects/${next.slug}`}
          rel="next"
          className="flex items-center gap-3 "
          aria-label={`Next project: ${next.title}`}>
          <span className="truncate">{next.title}</span>
          <svg
            width="14"
            height="20"
            viewBox="0 0 14 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M0.890974 0.14776C0.498376 0.345709 0.257409 0.787859 0.246929 1.3295C0.242789 1.54233 0.276169 3.8124 0.321128 6.37409C0.408393 11.3471 0.421072 14.7347 0.354831 15.3659C0.332383 15.5793 0.29467 16.2925 0.270929 16.9508C0.218725 18.3979 0.29137 18.7694 0.703052 19.1611C1.22386 19.6566 1.93603 19.635 2.99693 19.0914C4.45107 18.3466 5.45964 17.5204 8.95977 14.2075C9.95508 13.2655 10.8663 12.4628 12.3636 11.2094C12.6718 10.9513 13.0015 10.6231 13.0962 10.48C13.3229 10.1375 13.3687 9.67698 13.2168 9.26776C12.7923 8.12419 10.4591 5.84881 7.6211 3.81072C6.35397 2.90074 2.6423 0.418614 2.20365 0.187932C1.75464 -0.0483122 1.30692 -0.0619616 0.890974 0.14776ZM4.31587 3.57027C6.40831 4.98644 7.74498 5.95264 8.59144 6.66079C9.75759 7.63637 11.2799 9.16432 11.5088 9.58881C11.5574 9.67893 11.3976 9.84007 10.6134 10.4923C9.4683 11.4446 8.76519 12.077 7.13651 13.6196C5.84461 14.8433 4.9378 15.6697 4.28961 16.2141C3.37833 16.9794 1.94948 17.9851 1.77275 17.9856C1.71046 17.9858 1.74584 16.8033 1.8705 14.719C1.95479 13.3104 1.97348 10.2557 1.92788 5.35912L1.89611 1.95065L2.09018 2.07297C2.19692 2.14025 3.1985 2.81405 4.31587 3.57027Z"
              fill="#4D0011"
            />
          </svg>
        </Link>
      )}
    </nav>
  );
}
